import{a as j,s as wt}from"./statusStore-06538a4a.js";import{k as rt,o as m,c as h,a as i,n as N,l as x,m as p,v as E,F as D,p as T,d as Ct,t as y,q as kt,s as Nt,f as Tt,x as St,j as I,h as d,y as Ot,b as z}from"./index-b239c0f7.js";import{_ as Mt}from"./_plugin-vue_export-helper-c27b6911.js";const $t=1e3,Y="transitionend",xt=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),Lt=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let s=e.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),t=s&&s!=="#"?s.trim():null}return t},lt=e=>{const t=Lt(e);return t?document.querySelector(t):null},Vt=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:s}=window.getComputedStyle(e);const n=Number.parseFloat(t),a=Number.parseFloat(s);return!n&&!a?0:(t=t.split(",")[0],s=s.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(s))*$t)},It=e=>{e.dispatchEvent(new Event(Y))},S=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),W=e=>S(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(e):null,ct=e=>{if(!S(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",s=e.closest("details:not([open])");if(!s)return t;if(s!==e){const n=e.closest("summary");if(n&&n.parentNode!==s||n===null)return!1}return t},dt=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",ut=e=>{e.offsetHeight},mt=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,U=[],Ut=e=>{document.readyState==="loading"?(U.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of U)t()}),U.push(e)):e()},Q=()=>document.documentElement.dir==="rtl",Pt=e=>{Ut(()=>{const t=mt();if(t){const s=e.NAME,n=t.fn[s];t.fn[s]=e.jQueryInterface,t.fn[s].Constructor=e,t.fn[s].noConflict=()=>(t.fn[s]=n,e.jQueryInterface)}})},w=e=>{typeof e=="function"&&e()},ht=(e,t,s=!0)=>{if(!s){w(e);return}const n=5,a=Vt(t)+n;let r=!1;const o=({target:l})=>{l===t&&(r=!0,t.removeEventListener(Y,o),w(e))};t.addEventListener(Y,o),setTimeout(()=>{r||It(t)},a)},Rt=/[^.]*(?=\..*)\.|.*/,Kt=/\..*/,Bt=/::\d+$/,P={};let G=1;const _t={mouseenter:"mouseover",mouseleave:"mouseout"},Yt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ft(e,t){return t&&`${t}::${G++}`||e.uidEvent||G++}function pt(e){const t=ft(e);return e.uidEvent=t,P[t]=P[t]||{},P[t]}function Wt(e,t){return function s(n){return H(n,{delegateTarget:e}),s.oneOff&&u.off(e,n.type,t),t.apply(e,[n])}}function Ft(e,t,s){return function n(a){const r=e.querySelectorAll(t);for(let{target:o}=a;o&&o!==this;o=o.parentNode)for(const l of r)if(l===o)return H(a,{delegateTarget:o}),n.oneOff&&u.off(e,a.type,t,s),s.apply(o,[a])}}function gt(e,t,s=null){return Object.values(e).find(n=>n.callable===t&&n.delegationSelector===s)}function bt(e,t,s){const n=typeof t=="string",a=n?s:t||s;let r=Et(e);return Yt.has(r)||(r=e),[n,a,r]}function J(e,t,s,n,a){if(typeof t!="string"||!e)return;let[r,o,l]=bt(t,s,n);t in _t&&(o=(Dt=>function(k){if(!k.relatedTarget||k.relatedTarget!==k.delegateTarget&&!k.delegateTarget.contains(k.relatedTarget))return Dt.call(this,k)})(o));const c=pt(e),f=c[l]||(c[l]={}),_=gt(f,o,r?s:null);if(_){_.oneOff=_.oneOff&&a;return}const b=ft(o,t.replace(Rt,"")),v=r?Ft(e,s,o):Wt(e,o);v.delegationSelector=r?s:null,v.callable=o,v.oneOff=a,v.uidEvent=b,f[b]=v,e.addEventListener(l,v,r)}function F(e,t,s,n,a){const r=gt(t[s],n,a);r&&(e.removeEventListener(s,r,Boolean(a)),delete t[s][r.uidEvent])}function jt(e,t,s,n){const a=t[s]||{};for(const r of Object.keys(a))if(r.includes(n)){const o=a[r];F(e,t,s,o.callable,o.delegationSelector)}}function Et(e){return e=e.replace(Kt,""),_t[e]||e}const u={on(e,t,s,n){J(e,t,s,n,!1)},one(e,t,s,n){J(e,t,s,n,!0)},off(e,t,s,n){if(typeof t!="string"||!e)return;const[a,r,o]=bt(t,s,n),l=o!==t,c=pt(e),f=c[o]||{},_=t.startsWith(".");if(typeof r<"u"){if(!Object.keys(f).length)return;F(e,c,o,r,a?s:null);return}if(_)for(const b of Object.keys(c))jt(e,c,b,t.slice(1));for(const b of Object.keys(f)){const v=b.replace(Bt,"");if(!l||t.includes(v)){const V=f[b];F(e,c,o,V.callable,V.delegationSelector)}}},trigger(e,t,s){if(typeof t!="string"||!e)return null;const n=mt(),a=Et(t),r=t!==a;let o=null,l=!0,c=!0,f=!1;r&&n&&(o=n.Event(t,s),n(e).trigger(o),l=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),f=o.isDefaultPrevented());let _=new Event(t,{bubbles:l,cancelable:!0});return _=H(_,s),f&&_.preventDefault(),c&&e.dispatchEvent(_),_.defaultPrevented&&o&&o.preventDefault(),_}};function H(e,t){for(const[s,n]of Object.entries(t||{}))try{e[s]=n}catch{Object.defineProperty(e,s,{configurable:!0,get(){return n}})}return e}const M={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(s=>s.matches(t))},parents(e,t){const s=[];let n=e.parentNode.closest(t);for(;n;)s.push(n),n=n.parentNode.closest(t);return s},prev(e,t){let s=e.previousElementSibling;for(;s;){if(s.matches(t))return[s];s=s.previousElementSibling}return[]},next(e,t){let s=e.nextElementSibling;for(;s;){if(s.matches(t))return[s];s=s.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(s=>`${s}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(s=>!dt(s)&&ct(s))}};function Z(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function R(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const O={setDataAttribute(e,t,s){e.setAttribute(`data-bs-${R(t)}`,s)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${R(t)}`)},getDataAttributes(e){if(!e)return{};const t={},s=Object.keys(e.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of s){let a=n.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1,a.length),t[a]=Z(e.dataset[n])}return t},getDataAttribute(e,t){return Z(e.getAttribute(`data-bs-${R(t)}`))}},X=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",tt=".sticky-top",$="padding-right",et="margin-right";class Ht{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,$,s=>s+t),this._setElementAttributes(X,$,s=>s+t),this._setElementAttributes(tt,et,s=>s-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,$),this._resetElementAttributes(X,$),this._resetElementAttributes(tt,et)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,s,n){const a=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+a)return;this._saveInitialAttribute(o,s);const l=window.getComputedStyle(o).getPropertyValue(s);o.style.setProperty(s,`${n(Number.parseFloat(l))}px`)};this._applyManipulationCallback(t,r)}_saveInitialAttribute(t,s){const n=t.style.getPropertyValue(s);n&&O.setDataAttribute(t,s,n)}_resetElementAttributes(t,s){const n=a=>{const r=O.getDataAttribute(a,s);if(r===null){a.style.removeProperty(s);return}O.removeDataAttribute(a,s),a.style.setProperty(s,r)};this._applyManipulationCallback(t,n)}_applyManipulationCallback(t,s){if(S(t)){s(t);return}for(const n of M.find(t,this._element))s(n)}}const A=new Map,K={set(e,t,s){A.has(e)||A.set(e,new Map);const n=A.get(e);if(!n.has(t)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(t,s)},get(e,t){return A.has(e)&&A.get(e).get(t)||null},remove(e,t){if(!A.has(e))return;const s=A.get(e);s.delete(t),s.size===0&&A.delete(e)}};class q{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,s){const n=S(s)?O.getDataAttribute(s,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...S(s)?O.getDataAttributes(s):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,s=this.constructor.DefaultType){for(const n of Object.keys(s)){const a=s[n],r=t[n],o=S(r)?"element":xt(r);if(!new RegExp(a).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${o}" but expected type "${a}".`)}}}const qt="5.2.3";class zt extends q{constructor(t,s){super(),t=W(t),t&&(this._element=t,this._config=this._getConfig(s),K.set(this._element,this.constructor.DATA_KEY,this))}dispose(){K.remove(this._element,this.constructor.DATA_KEY),u.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,s,n=!0){ht(t,s,n)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return K.get(W(t),this.DATA_KEY)}static getOrCreateInstance(t,s={}){return this.getInstance(t)||new this(t,typeof s=="object"?s:null)}static get VERSION(){return qt}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const yt="backdrop",Qt="fade",st="show",nt=`mousedown.bs.${yt}`,Gt={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Jt={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Zt extends q{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Gt}static get DefaultType(){return Jt}static get NAME(){return yt}show(t){if(!this._config.isVisible){w(t);return}this._append();const s=this._getElement();this._config.isAnimated&&ut(s),s.classList.add(st),this._emulateAnimation(()=>{w(t)})}hide(t){if(!this._config.isVisible){w(t);return}this._getElement().classList.remove(st),this._emulateAnimation(()=>{this.dispose(),w(t)})}dispose(){this._isAppended&&(u.off(this._element,nt),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Qt),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=W(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),u.on(t,nt,()=>{w(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){ht(t,this._getElement(),this._config.isAnimated)}}const Xt="focustrap",te="bs.focustrap",L=`.${te}`,ee=`focusin${L}`,se=`keydown.tab${L}`,ne="Tab",ie="forward",it="backward",oe={autofocus:!0,trapElement:null},ae={autofocus:"boolean",trapElement:"element"};class re extends q{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return oe}static get DefaultType(){return ae}static get NAME(){return Xt}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),u.off(document,L),u.on(document,ee,t=>this._handleFocusin(t)),u.on(document,se,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,u.off(document,L))}_handleFocusin(t){const{trapElement:s}=this._config;if(t.target===document||t.target===s||s.contains(t.target))return;const n=M.focusableChildren(s);n.length===0?s.focus():this._lastTabNavDirection===it?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){t.key===ne&&(this._lastTabNavDirection=t.shiftKey?it:ie)}}const le=(e,t="hide")=>{const s=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;u.on(document,s,`[data-bs-dismiss="${n}"]`,function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),dt(this))return;const r=lt(this)||this.closest(`.${n}`);e.getOrCreateInstance(r)[t]()})},ce="modal",de="bs.modal",g=`.${de}`,ue=".data-api",me="Escape",he=`hide${g}`,_e=`hidePrevented${g}`,vt=`hidden${g}`,At=`show${g}`,fe=`shown${g}`,pe=`resize${g}`,ge=`click.dismiss${g}`,be=`mousedown.dismiss${g}`,Ee=`keydown.dismiss${g}`,ye=`click${g}${ue}`,ot="modal-open",ve="fade",at="show",B="modal-static",Ae=".modal.show",De=".modal-dialog",we=".modal-body",Ce='[data-bs-toggle="modal"]',ke={backdrop:!0,focus:!0,keyboard:!0},Ne={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class C extends zt{constructor(t,s){super(t,s),this._dialog=M.findOne(De,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ht,this._addEventListeners()}static get Default(){return ke}static get DefaultType(){return Ne}static get NAME(){return ce}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||u.trigger(this._element,At,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ot),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||u.trigger(this._element,he).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(at),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const t of[window,this._dialog])u.off(t,g);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Zt({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new re({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const s=M.findOne(we,this._dialog);s&&(s.scrollTop=0),ut(this._element),this._element.classList.add(at);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,u.trigger(this._element,fe,{relatedTarget:t})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){u.on(this._element,Ee,t=>{if(t.key===me){if(this._config.keyboard){t.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),u.on(window,pe,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),u.on(this._element,be,t=>{u.one(this._element,ge,s=>{if(!(this._element!==t.target||this._element!==s.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ot),this._resetAdjustments(),this._scrollBar.reset(),u.trigger(this._element,vt)})}_isAnimated(){return this._element.classList.contains(ve)}_triggerBackdropTransition(){if(u.trigger(this._element,_e).defaultPrevented)return;const s=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(B)||(s||(this._element.style.overflowY="hidden"),this._element.classList.add(B),this._queueCallback(()=>{this._element.classList.remove(B),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,s=this._scrollBar.getWidth(),n=s>0;if(n&&!t){const a=Q()?"paddingLeft":"paddingRight";this._element.style[a]=`${s}px`}if(!n&&t){const a=Q()?"paddingRight":"paddingLeft";this._element.style[a]=`${s}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,s){return this.each(function(){const n=C.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](s)}})}}u.on(document,ye,Ce,function(e){const t=lt(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),u.one(t,At,a=>{a.defaultPrevented||u.one(t,vt,()=>{ct(this)&&this.focus()})});const s=M.findOne(Ae);s&&C.getInstance(s).hide(),C.getOrCreateInstance(t).toggle(this)});le(C);Pt(C);const Te={setup(){const e=j();return rt(()=>{e.uploadEl=document.querySelector(".uploadEl")}),{admin:e}}},Se={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},Oe={class:"modal-dialog modal-xl"},Me={class:"modal-content border-0"},$e={id:"productModalLabel",class:"modal-title"},xe={key:0,class:"fs-5"},Le={key:1,class:"fs-5"},Ve=i("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ie={class:"modal-body"},Ue={class:"row"},Pe={class:"col-lg-4"},Re={class:"mb-2"},Ke={class:"mb-3"},Be=i("label",{for:"imageUrl",class:"form-label"},"輸入圖片網址",-1),Ye=["src"],We=i("label",{for:"floatingInput",class:"form-label"},"上傳檔案",-1),Fe={class:"d-flex mb-3"},je=i("input",{type:"file",class:"form-control uploadEl",id:"floatingInput"},null,-1),He={key:0,class:"mb-3"},qe=i("p",{class:"fs-6 fw-bolder text-start mb-2"},"商品副圖網址",-1),ze=["src"],Qe={class:"form-label w-100",for:"url"},Ge=["onUpdate:modelValue","placeholder"],Je={class:"col-lg-8"},Ze={class:"mb-3"},Xe=i("label",{for:"title",class:"form-label"},"標題",-1),ts={class:"row"},es={class:"mb-3 col-md-6"},ss=i("label",{for:"category",class:"form-label"},"分類",-1),ns={class:"mb-3 col-md-6"},is=i("label",{for:"price",class:"form-label"},"單位",-1),os={class:"row"},as={class:"mb-3 col-md-6"},rs=i("label",{for:"origin_price",class:"form-label"},"原價",-1),ls={class:"mb-3 col-md-6"},cs=i("label",{for:"price",class:"form-label"},"售價",-1),ds=i("hr",null,null,-1),us={class:"mb-3"},ms=i("label",{for:"description",class:"form-label"},"產品描述",-1),hs={class:"mb-3"},_s=i("label",{for:"content",class:"form-label"},"說明內容",-1),fs={class:"mb-3"},ps={class:"row align-items-center"},gs={class:"mb-3 mb-md-0 col-md-6 d-flex align-items-center"},bs=i("label",{class:"form-label me-3 mb-0",for:"rating"},"評等",-1),Es=i("option",{value:"",disabled:""},"選擇評等",-1),ys=["value"],vs={class:"col-md-6"},As={class:"form-check"},Ds=i("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1),ws={class:"modal-footer"},Cs=i("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function ks(e,t,s,n,a,r){return m(),h("div",Se,[i("div",Oe,[i("div",Me,[i("div",{class:N(["modal-header text-white",{"bg-success":n.admin.operateMode==="add","bg-primary":n.admin.operateMode==="edit"}])},[i("h5",$e,[n.admin.operateMode==="add"?(m(),h("span",xe,"新增產品")):n.admin.operateMode==="edit"?(m(),h("span",Le,"修改產品")):x("",!0)]),Ve],2),i("div",Ie,[i("div",Ue,[i("div",Pe,[i("div",Re,[i("div",Ke,[Be,p(i("input",{type:"text",class:"form-control",placeholder:"請輸入圖片連結","onUpdate:modelValue":t[0]||(t[0]=o=>n.admin.tempData.imageUrl=o)},null,512),[[E,n.admin.tempData.imageUrl]])]),i("img",{class:"img-fluid",src:n.admin.tempData.imageUrl,alt:""},null,8,Ye)]),We,i("div",Fe,[je,i("button",{type:"button",class:"btn btn-primary ms-2",onClick:t[1]||(t[1]=o=>n.admin.uploadFile())},"upload")]),Array.isArray(n.admin.tempData.imagesUrl)?(m(),h("div",He,[qe,(m(!0),h(D,null,T(n.admin.tempData.imagesUrl,(o,l)=>(m(),h(D,{key:"img"+l},[i("img",{class:"img-fluid",src:n.admin.tempData.imagesUrl[l],alt:""},null,8,ze),i("label",Qe,[Ct("副圖網址"+y(`${l+1}`)+" ",1),p(i("input",{type:"text",id:"url",class:"form-control mb-3","onUpdate:modelValue":c=>n.admin.tempData.imagesUrl[l]=c,placeholder:`輸入副圖網址${l+1}`},null,8,Ge),[[E,n.admin.tempData.imagesUrl[l]]])])],64))),128)),!n.admin.tempData.imagesUrl.length||n.admin.tempData.imagesUrl[n.admin.tempData.imagesUrl.length-1]?(m(),h("button",{key:0,type:"button",class:"btn btn-primary w-100 mb-3",onClick:t[2]||(t[2]=o=>n.admin.tempData.imagesUrl.push(""))},"新增")):x("",!0),i("button",{type:"button",class:"btn btn-outline-danger w-100",onClick:t[3]||(t[3]=o=>n.admin.tempData.imagesUrl.pop(""))},"刪除最後一個")])):x("",!0)]),i("div",Je,[i("div",Ze,[Xe,p(i("input",{id:"title",type:"text",class:"form-control",placeholder:"請輸入標題","onUpdate:modelValue":t[4]||(t[4]=o=>n.admin.tempData.title=o)},null,512),[[E,n.admin.tempData.title]])]),i("div",ts,[i("div",es,[ss,p(i("input",{id:"category",type:"text",class:"form-control",placeholder:"請輸入分類","onUpdate:modelValue":t[5]||(t[5]=o=>n.admin.tempData.category=o)},null,512),[[E,n.admin.tempData.category]])]),i("div",ns,[is,p(i("input",{id:"unit",type:"text",class:"form-control",placeholder:"請輸入單位","onUpdate:modelValue":t[6]||(t[6]=o=>n.admin.tempData.unit=o)},null,512),[[E,n.admin.tempData.unit]])])]),i("div",os,[i("div",as,[rs,p(i("input",{id:"origin_price",type:"number",min:"0",class:"form-control",placeholder:"請輸入原價","onUpdate:modelValue":t[7]||(t[7]=o=>n.admin.tempData.origin_price=o)},null,512),[[E,n.admin.tempData.origin_price,void 0,{number:!0}]])]),i("div",ls,[cs,p(i("input",{id:"price",type:"number",min:"0",class:"form-control",placeholder:"請輸入售價","onUpdate:modelValue":t[8]||(t[8]=o=>n.admin.tempData.price=o)},null,512),[[E,n.admin.tempData.price,void 0,{number:!0}]])])]),ds,i("div",us,[ms,p(i("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入產品描述","onUpdate:modelValue":t[9]||(t[9]=o=>n.admin.tempData.description=o)},`
                `,512),[[E,n.admin.tempData.description]])]),i("div",hs,[_s,p(i("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入說明內容","onUpdate:modelValue":t[10]||(t[10]=o=>n.admin.tempData.content=o)},`
                `,512),[[E,n.admin.tempData.content]])]),i("div",fs,[i("div",ps,[i("div",gs,[bs,p(i("select",{class:"form-select border w-75",id:"rating","onUpdate:modelValue":t[11]||(t[11]=o=>n.admin.tempData.rating=o)},[Es,(m(),h(D,null,T(5,(o,l)=>i("option",{key:"option"+l,value:o},y(`${o}`),9,ys)),64))],512),[[kt,n.admin.tempData.rating,void 0,{number:!0}]])]),i("div",vs,[i("div",As,[p(i("input",{id:"is_enabled",class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=o=>n.admin.tempData.is_enabled=o)},null,512),[[Nt,n.admin.tempData.is_enabled]]),Ds])])])])])])]),i("div",ws,[Cs,i("button",{type:"button",class:N(["btn btn-primary",{"bg-success":n.admin.operateMode==="add","bg-primary":n.admin.operateMode==="edit"}]),"data-bs-dismiss":"modal",onClick:t[13]||(t[13]=o=>n.admin.confirmProduct())}," 確認 ",2)])])])],512)}const Ns=Mt(Te,[["render",ks]]),Ts={class:"pagination"},Ss=i("span",{"aria-hidden":"true"},"«",-1),Os=[Ss],Ms=["onClick"],$s=i("span",{"aria-hidden":"true"},"»",-1),xs=[$s],Ls={__name:"PaginationComponent",props:{pagination:Object},setup(e){const t=e,s=j();let{pagination:n}=Tt(t);return St(s,a=>{n=a.pagination},{deep:!0}),(a,r)=>{var o;return m(),h("ul",Ts,[i("li",{class:N(["page-item",{disabled:!d(n).has_pre}])},[i("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:r[0]||(r[0]=I(l=>d(s).changePage(d(n).current_page-1),["prevent"]))},Os)],2),(m(!0),h(D,null,T((o=d(n))==null?void 0:o.total_pages,(l,c)=>(m(),h("li",{key:"key"+l,class:"page-item"},[i("a",{class:N(["page-link",{active:d(n).current_page===l}]),href:"#",onClick:I(f=>d(s).changePage(l),["prevent"])},y(l),11,Ms)]))),128)),i("li",{class:N(["page-item",{disabled:!d(n).has_next}])},[i("a",{class:"page-link",href:"#","aria-label":"Next",onClick:r[1]||(r[1]=I(l=>d(s).changePage(d(n).current_page+1),["prevent"]))},xs)],2)])}}},Vs={key:0,class:"container px-0"},Is={class:"container mt-5"},Us={class:"row"},Ps={class:"col-3 me-auto"},Rs={class:"d-flex align-items-center me-auto"},Ks=i("label",{class:"form-label me-3 mb-0 w-25",for:"category"},"分類",-1),Bs=i("option",{value:"",selected:"",disabled:""},"選擇分類",-1),Ys=["value"],Ws={class:"col-2 text-end"},Fs={class:"table table-hover mt-4"},js=i("th",{width:"120"}," 分類 ",-1),Hs=i("th",null,"產品名稱",-1),qs=i("th",{width:"120"}," 編輯 ",-1),zs={width:"120"},Qs={width:"100"},Gs={class:"",width:"120"},Js={class:"",width:"120"},Zs=["onClick"],Xs={class:"btn-group"},tn=["onClick"],en=["onClick"],an={__name:"ProductsComponent",setup(e){const t=j(),s=wt(),n=()=>{new C(document.getElementById("productModal")).show()},a=()=>{t.operateMode="",t.tempData={imagesUrl:[]},n(),t.operateMode="add"},r=o=>{t.operateMode="",t.tempData={},n(),t.operateMode="edit",t.tempData={...o}};return Ot(()=>{t.checkStatus(),t.getAllCategory()}),rt(()=>{t.selectEl=document.querySelector(".selectEl")}),(o,l)=>(m(),h(D,null,[d(t).tempProducts.length&&d(t).checkResult?(m(),h("div",Vs,[i("div",Is,[i("div",Us,[i("div",Ps,[i("div",Rs,[Ks,i("select",{class:"form-select border selectEl",id:"category",onChange:l[0]||(l[0]=(...c)=>d(t).selectOnChange&&d(t).selectOnChange(...c))},[Bs,(m(!0),h(D,null,T(d(t).AllCategory,(c,f)=>(m(),h("option",{key:"option"+f,value:c},y(`${c===""?"不分類":c}`),9,Ys))),128))],32)])]),i("div",Ws,[i("button",{class:"btn btn-success",onClick:l[1]||(l[1]=c=>a())}," 建立新的產品 ")])])]),i("table",Fs,[i("thead",null,[i("tr",null,[js,Hs,i("th",{width:"120",onClick:l[2]||(l[2]=c=>d(t).itemSort("origin_price"))}," 原價 "),i("th",{width:"120",onClick:l[3]||(l[3]=c=>d(t).itemSort("price"))}," 售價 "),i("th",{width:"120",onClick:l[4]||(l[4]=c=>d(t).itemSort("rating"))}," 評等 "),i("th",{width:"100",onClick:l[5]||(l[5]=c=>d(t).itemSort("is_enabled"))}," 是否啟用 "),qs])]),i("tbody",null,[(m(!0),h(D,null,T(d(t).tempProducts,(c,f)=>(m(),h("tr",{key:"key"+f},[i("td",zs,y(c.category),1),i("td",Qs,y(c.title),1),i("td",Gs,y(c.origin_price),1),i("td",Js,y(c.price),1),i("td",null,[(m(!0),h(D,null,T(d(t).tempProducts[f].rating,(_,b)=>(m(),h("span",{key:"star"+b,class:"text-warning"},"☆"))),128))]),i("td",null,[i("span",{class:N({"text-success":c.is_enabled,"text-danger":!c.is_enabled}),onClick:_=>d(t).changeStatus(c)},y(c.is_enabled?"啟用":"未啟用"),11,Zs)]),i("td",null,[i("div",Xs,[i("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:_=>r(c)}," 編輯 ",8,tn),i("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:_=>d(s).swDelect(c)}," 刪除 ",8,en)])])]))),128))])]),z(Ls,{pagination:d(t).pagination},null,8,["pagination"])])):x("",!0),z(Ns)],64))}};export{an as default};
